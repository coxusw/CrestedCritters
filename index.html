---
layout: default
title: Home
---

{% for block in site.data.home.blocks %}

  {% case block.type %}

  {% when "hero" %}
    <section class="hero">
      <div class="hero-inner">
        <div class="hero-text">
          {% if block.kicker %}<p class="kicker">{{ block.kicker }}</p>{% endif %}
          <h1>{{ block.headline }}</h1>
          {% if block.subheadline %}<p class="sub">{{ block.subheadline }}</p>{% endif %}

          {% if block.buttons %}
            <div class="hero-actions">
              {% for btn in block.buttons %}
                {% assign href = btn.link | relative_url %}
                {% if btn.style == "primary" %}
                  <a class="btn primary" href="{{ href }}">{{ btn.label }}</a>
                {% else %}
                  <a class="btn ghost" href="{{ href }}">{{ btn.label }}</a>
                {% endif %}
              {% endfor %}
            </div>
          {% endif %}
        </div>

        <div class="hero-media">
          {% if block.image %}
            <img src="{{ block.image | relative_url }}" alt="Crested Critters hero image">
          {% endif %}
        </div>
      </div>
    </section>

  {% when "categories" %}
    <section class="section" id="categories">
      <div class="container">
        <div class="section-head">
          <h2>{{ block.title }}</h2>
          {% if block.subtitle %}<p class="muted">{{ block.subtitle }}</p>{% endif %}
        </div>

        <div class="card-grid">
          {% for item in block.items %}
            <a class="card" href="{{ item.link | relative_url }}">
              <div class="card-img">
                {% if item.image %}
                  <img src="{{ item.image | relative_url }}" alt="{{ item.title }}">
                {% endif %}
              </div>
              <div class="card-body">
                <h3>{{ item.title }}</h3>
                <p class="muted">{{ item.description }}</p>
                <span class="card-cta">Shop →</span>
              </div>
            </a>
          {% endfor %}
        </div>
      </div>
    </section>

  {% when "featured_products" %}
    <section class="section alt">
      <div class="container">
        <div class="section-head">
          <h2>{{ block.title }}</h2>
          {% if block.cta_link and block.cta_label %}
            <a class="btn ghost" href="{{ block.cta_link | relative_url }}">{{ block.cta_label }}</a>
          {% endif %}
        </div>

        {% if block.subtitle %}<p class="muted" style="margin-top:-12px;">{{ block.subtitle }}</p>{% endif %}

        <div class="product-grid">
          {% assign featured_products = site.products | where: "featured", true | sort: "title" %}
          {% for product in featured_products limit: block.max_items %}
            {% assign is_sold = false %}
            {% if product.sold_out == true or product.inventory == 0 %}
              {% assign is_sold = true %}
            {% endif %}

            <div class="p-card">
              <a href="{{ product.url | relative_url }}" class="p-link">
                <div class="p-img">
                  {% if product.image %}
                    {% assign img = product.image %}
                    {% if img contains '://' %}
                      <img src="{{ img }}" alt="{{ product.title }}">
                    {% else %}
                      <img src="{{ img | relative_url }}" alt="{{ product.title }}">
                    {% endif %}
                  {% else %}
                    <div class="p-img-placeholder">No image</div>
                  {% endif %}

                  {% if is_sold %}
                    <span class="badge sold">Sold Out</span>
                  {% else %}
                    {% if product.inventory and product.inventory <= 4 %}
                      <span class="badge low">Low stock: {{ product.inventory }}</span>
                    {% else %}
                      <span class="badge stock">{{ product.inventory }} in stock</span>
                    {% endif %}
                  {% endif %}
                </div>

                <div class="p-body">
                  <div class="p-top">
                    <h3>{{ product.title }}</h3>
                    <span class="price">${{ product.price }}</span>
                  </div>
                  <p class="muted p-cat">{{ product.category }}</p>
                </div>
              </a>
            </div>
          {% endfor %}
        </div>

        {% if featured_products.size == 0 %}
          <p class="muted">No featured products yet — open a product in Admin and toggle “Featured on Homepage”.</p>
        {% endif %}
      </div>
    </section>

  {% when "bullet_cards" %}
    <section class="section">
      <div class="container">
        <div class="section-head">
          <h2>{{ block.title }}</h2>
        </div>

        <div class="card-grid">
          {% for b in block.bullets %}
            <div class="card">
              <div class="card-body">
                <p>{{ b }}</p>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </section>

  {% when "image_text" %}
    {% if block.enabled != false %}
      <section class="section">
        <div class="container">
          <div class="it-grid {% if block.image_side == 'right' %}it-right{% endif %}">
            <div class="it-media">
              {% if block.image %}
                <img src="{{ block.image | relative_url }}" alt="{{ block.title }}">
              {% else %}
                <div class="p-img-placeholder">No image</div>
              {% endif %}
            </div>

            <div class="it-text">
              <h2 style="margin-top:0;">{{ block.title }}</h2>
              <p class="muted" style="line-height:1.75;">{{ block.text }}</p>

              {% if block.button_label and block.button_link %}
                {% if block.button_style == "ghost" %}
                  <a class="btn ghost" href="{{ block.button_link | relative_url }}">{{ block.button_label }}</a>
                {% else %}
                  <a class="btn primary" href="{{ block.button_link | relative_url }}">{{ block.button_label }}</a>
                {% endif %}
              {% endif %}
            </div>
          </div>
        </div>
      </section>
    {% endif %}

  {% when "cta_strip" %}
    {% if block.enabled != false %}
      <section class="section" style="padding:30px 0;">
        <div class="container">
          <div class="cta-strip">
            <div class="cta-text">{{ block.text }}</div>

            {% if block.button_label and block.button_link %}
              {% if block.button_style == "ghost" %}
                <a class="btn ghost" href="{{ block.button_link | relative_url }}">{{ block.button_label }}</a>
              {% else %}
                <a class="btn primary" href="{{ block.button_link | relative_url }}">{{ block.button_label }}</a>
              {% endif %}
            {% endif %}
          </div>
        </div>
      </section>
    {% endif %}

  {% else %}
    <!-- Unknown block type: {{ block.type }} -->

  {% endcase %}

{% endfor %}
